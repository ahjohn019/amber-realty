import{d as g,u as y,a as f}from"./ckeditor-afaf4caa.js";import{S as P}from"./app-15d8fa36.js";const m="/api/property/",A=g("property_admin",{state:()=>({post_table_admin:null,router:y()}),actions:{async fetchPropertyList(r,t=null,n=null){const a={headers:{Authorization:`Bearer ${r}`}};try{const i="?page="+t;return(await f.get(m+"list"+i,{params:n,...a})).data.data}catch(i){throw console.error("Error:",i),i}},async createProperty(r,t=null,n=null){var l,u,o,c,p,d,h;const a={headers:{Authorization:`Bearer ${r}`,"Content-Type":"multipart/form-data"}};t={...t,type_id:t.property_types.id,state_id:t.state.id,status:t.status.slug,file:t.images},t.property_details>0&&(t=this.handlePropertyDetails(t));const{state:i,property_types:_,images:D,...b}=t;try{const s=await f.post(m+"store",b,a);return this.router.push("/property"),P.fire({text:"Property Created Successfully",icon:"success"}).then(e=>{if(e.isConfirmed)return s.data.data}),s}catch(s){const e=(u=(l=s.response)==null?void 0:l.data)==null?void 0:u.errors;return n.value={...n.value,name:((o=e==null?void 0:e.name)==null?void 0:o[0])??"",description:((c=e==null?void 0:e.description)==null?void 0:c[0])??"",short_description:((p=e==null?void 0:e.short_description)==null?void 0:p[0])??"",state_id:((d=e==null?void 0:e.state_id)==null?void 0:d[0])??"",type_id:((h=e==null?void 0:e.type_id)==null?void 0:h[0])??""},s.response}},handlePropertyDetails(r){const t={furnishing:r.furnishing.slug,listing_type:r.listing_type.slug,tenure:r.tenure.slug,bathroom:parseInt(r.bathroom),bedroom:parseInt(r.bedroom)};return r={...r,...t},r}}}),C=g("property_admin_models",{state:()=>({post_table_admin:null}),actions:{fetchPropertyColumns(){return[{name:"name",align:"left",label:"Name",field:"name",sortable:!0},{name:"description",align:"left",label:"Description",field:"description",sortable:!0},{name:"short_description",align:"left",label:"Short Description",field:"short_description",sortable:!0},{name:"price",align:"left",label:"Price",field:"price",sortable:!0},{name:"created_by",align:"left",label:"Created By",field:"created_by",sortable:!1}]},fetchPropertyData(){return{name:"",description:"",short_description:"",images:[],status:"",price:300,state:"",property_types:""}},fetchPropertyDetailsData(){return{tenure:"",square_feet:"",listing_type:"",furnishing:"",bathroom:1,bedroom:1}},fetchPropertyError(){return{name:null,description:null,short_description:null,images:null,status:null,price:null,tenure:null,square_feet:null,listing_type:null,furnishing:null,bathroom:null,bedroom:null}},fetchTenureData(){return[{label:"Freehold",slug:"freehold"},{label:"Leasehold",slug:"leasehold"}]},fetchFurnishingData(){return[{label:"Unfurnished",slug:"unfurnished"},{label:"Partially Furnished",slug:"partially_furnished"},{label:"Furnished",slug:"furnished"}]},fetchListingTypeData(){return[{label:"Sale",slug:"sale"},{label:"Rent",slug:"rent"}]},fetchStatusData(){return[{label:"Active",slug:"active"},{label:"Inactive",slug:"inactive"}]}}});export{C as a,A as u};
