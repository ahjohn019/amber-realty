import{l as k,J as g,B as O,r as i,m as C,n as x,x as T,A as o,G as l,H as v,W as r,N as z}from"./ckeditor-afaf4caa.js";import{c as G,Q as H,e as J}from"./QBtn-b6678b7b.js";import{u as W,a as K,b as X}from"./use-checkbox-d664cca5.js";import{Q as c}from"./QInput-c21f180b.js";import{Q as p}from"./QSelect-a37b18f7.js";import{C as Y,D as Z,u as $}from"./refList-e3365d0d.js";import{a as ee,u as oe}from"./index-8f84d6b9.js";import{u as te}from"./app-15d8fa36.js";import"./option-sizes-42d21409.js";import"./use-key-composition-be1b828a.js";import"./QMenu-718ed527.js";import"./use-prevent-scroll-d3df409d.js";const se=G({name:"QToggle",props:{...W,icon:String,iconColor:String},emits:K,setup(a){function t(m,e){const d=k(()=>(m.value===!0?a.checkedIcon:e.value===!0?a.indeterminateIcon:a.uncheckedIcon)||a.icon),u=k(()=>m.value===!0?a.iconColor:null);return()=>[g("div",{class:"q-toggle__track"}),g("div",{class:"q-toggle__thumb absolute flex flex-center no-wrap"},d.value!==void 0?[g(H,{name:d.value,color:u.value})]:void 0)]}return X("toggle",t)}});const ae={components:{CkeditorPlugin:Y,DropFile:Z},setup(){const a=ee(),t=$(),m=oe(),e=i(a.fetchPropertyData()),d=i(a.fetchPropertyDetailsData());e.value.status="Active";const u=i(a.fetchPropertyError()),y=i([]),_=i(0),s=i(!1),h=i([]),b=i([]),F=i(null),D=i(""),f=te().fetchSessionToken(),q=a.fetchTenureData(),I=a.fetchFurnishingData(),w=a.fetchListingTypeData(),A=a.fetchStatusData(),V=async()=>{const n=await t.fetchStateList(f);h.value=n},S=async()=>{const n=await t.fetchPropertyTypes(f);b.value=n},B=()=>(_.value=s.value?1:0,_.value),Q=n=>{e.value.images=n},L=n=>{D.value=URL.createObjectURL(n.target.files[0])},M=n=>{e.value.description=n},N=async()=>{var P,U;e.value={...e.value,property_details:_.value,status:{slug:((P=e.value.status)==null?void 0:P.slug)||"active",label:((U=e.value.status)==null?void 0:U.label)||"Active"},banner_url:D.value};const{tenure:n,bathroom:Ke,bedroom:Xe,square_feet:Ye,listing_type:Ze,furnishing:$e,...j}=e.value;return e.value=j,e.value.property_details>0&&(e.value={...e.value,...Object.fromEntries(Object.entries(d.value).map(([R,E])=>[R,E??null]))}),await m.createProperty(f,e.value,u)};return V(),S(),{propertyData:e,propertyDetailsData:d,submitData:N,updateParentFiles:Q,updateDescriptions:M,propertyDetailsToggle:s,handlePropertyDetails:B,options:y,errors:u,tenure:q,furnishing:I,listingType:w,status:A,state:h,property_types:b,stateList:V,propertyTypesList:S,mainImage:F,bannerUrl:D,updateMainImage:L}}},le={class:"row"},ne={class:"col-12 row pb-4"},ie=o("div",{class:"col text-2xl"},"Property Form",-1),re={class:"col text-right"},de=o("span",{class:"font-bold"},"Details",-1),ce={class:"col-12 row bg-white p-5 font-bold gap-y-4"},pe=o("div",{class:"col-12 post-information-name pb-2"},"Create Property",-1),me={class:"col-12"},ue=o("div",{class:"post-information-name"},"Name",-1),_e={class:"col-12"},ve={class:"col-12 text-red-700 pt-2"},ye={class:"col-12"},De=o("div",{class:"post-information-name"},"Descriptions",-1),fe={class:"col-12"},ge={class:"col-12 text-red-700 pt-2"},he={class:"col-12"},be=o("div",{class:"post-information-name"},"Short Descriptions",-1),Ve={class:"col-12"},Se={class:"col-12 text-red-700 pt-2"},Pe=o("div",{class:"post-information-name"},"Status",-1),Ue={class:"col-12 col-md-6"},ke=o("div",{class:"post-information-name"},"Types",-1),Ce={class:"col-12 text-red-700 pt-2"},xe=o("div",{class:"post-information-name"},"State",-1),Te={class:"col-12 text-red-700 pt-2"},Fe={class:"col-12 col-md-6"},qe=o("div",{class:"post-information-name"},"Price",-1),Ie=o("div",{class:"post-information-name"},"Tenure",-1),we={class:"col-12 col-md-6"},Ae=o("div",{class:"post-information-name"},"Square Feet",-1),Be=o("div",{class:"post-information-name"},"Listing Type",-1),Qe={class:"col-12 col-md-6"},Le=o("div",{class:"post-information-name"},"Furnished Type",-1),Me=o("div",{class:"post-information-name"},"Bathroom",-1),Ne={class:"col-12 col-md-6"},je=o("div",{class:"post-information-name"},"Bedroom",-1),Re={class:"col-12"},Ee=o("div",{class:"post-information-name"},"Main Images",-1),Oe=["src"],ze={class:"col-12"},Ge=o("div",{class:"post-information-name"},"Slider Images",-1),He={class:"col-12 text-right"};function Je(a,t,m,e,d,u){const y=C("CkeditorPlugin"),_=C("DropFile");return x(),T("div",le,[o("div",ne,[ie,o("div",re,[de,l(se,{modelValue:e.propertyDetailsToggle,"onUpdate:modelValue":t[0]||(t[0]=s=>e.propertyDetailsToggle=s),color:"green",onClick:e.handlePropertyDetails},null,8,["modelValue","onClick"])])]),o("div",ce,[pe,o("div",me,[ue,o("div",_e,[l(c,{dense:"",outlined:"",label:"Name",modelValue:e.propertyData.name,"onUpdate:modelValue":t[1]||(t[1]=s=>e.propertyData.name=s),ref:"nameRef"},null,8,["modelValue"])]),o("div",ve,v(e.errors.name),1)]),o("div",ye,[De,o("div",fe,[l(y,{description:e.propertyData.description,onUpdateDescriptionsData:e.updateDescriptions},null,8,["description","onUpdateDescriptionsData"])]),o("div",ge,v(e.errors.description),1)]),o("div",he,[be,o("div",Ve,[l(c,{modelValue:e.propertyData.short_description,"onUpdate:modelValue":t[2]||(t[2]=s=>e.propertyData.short_description=s),filled:"",outlined:"",placeholder:"Short Descriptions",type:"textarea"},null,8,["modelValue"])]),o("div",Se,v(e.errors.short_description),1)]),o("div",{class:r(["col-12 col-md-6",a.$q.screen.lt.md?"pr-0":"pr-6"])},[Pe,l(p,{dense:"",modelValue:e.propertyData.status,"onUpdate:modelValue":t[3]||(t[3]=s=>e.propertyData.status=s),options:e.status,"option-value":"slug","option-label":"label",label:"Status"},null,8,["modelValue","options"])],2),o("div",Ue,[ke,l(p,{dense:"",modelValue:e.propertyData.property_types,"onUpdate:modelValue":t[4]||(t[4]=s=>e.propertyData.property_types=s),options:e.property_types,"option-value":"id","option-label":"label",label:"Please Select"},null,8,["modelValue","options"]),o("div",Ce,v(e.errors.type_id),1)]),o("div",{class:r(["col-12 col-md-6",a.$q.screen.lt.md?"pr-0":"pr-6"])},[xe,l(p,{dense:"",modelValue:e.propertyData.state,"onUpdate:modelValue":t[5]||(t[5]=s=>e.propertyData.state=s),options:e.state,"option-value":"id","option-label":"label",label:"Please Select"},null,8,["modelValue","options"]),o("div",Te,v(e.errors.state_id),1)],2),o("div",Fe,[qe,l(c,{dense:"",outlined:"",label:"Price",modelValue:e.propertyData.price,"onUpdate:modelValue":t[6]||(t[6]=s=>e.propertyData.price=s),type:"number"},null,8,["modelValue"])]),o("div",{class:r(["col-12 row gap-y-4",e.propertyDetailsToggle?"":"hidden"])},[o("div",{class:r(["col-12 col-md-6",a.$q.screen.lt.md?"pr-0":"pr-6"])},[Ie,l(p,{dense:"",modelValue:e.propertyDetailsData.tenure,"onUpdate:modelValue":t[7]||(t[7]=s=>e.propertyDetailsData.tenure=s),options:e.tenure,"option-value":"slug","option-label":"label",label:"Please Select"},null,8,["modelValue","options"])],2),o("div",we,[Ae,l(c,{dense:"",outlined:"",label:"Square Feet",modelValue:e.propertyDetailsData.square_feet,"onUpdate:modelValue":t[8]||(t[8]=s=>e.propertyDetailsData.square_feet=s),type:"number"},null,8,["modelValue"])]),o("div",{class:r(["col-12 col-md-6",a.$q.screen.lt.md?"pr-0":"pr-6"])},[Be,l(p,{dense:"",modelValue:e.propertyDetailsData.listing_type,"onUpdate:modelValue":t[9]||(t[9]=s=>e.propertyDetailsData.listing_type=s),options:e.listingType,"option-value":"slug","option-label":"label",label:"Please Select"},null,8,["modelValue","options"])],2),o("div",Qe,[Le,l(p,{dense:"",modelValue:e.propertyDetailsData.furnishing,"onUpdate:modelValue":t[10]||(t[10]=s=>e.propertyDetailsData.furnishing=s),options:e.furnishing,"option-value":"slug","option-label":"label",label:"Please Select"},null,8,["modelValue","options"])]),o("div",{class:r(["col-12 col-md-6",a.$q.screen.lt.md?"pr-0":"pr-6"])},[Me,l(c,{dense:"",outlined:"",label:"Bathroom",modelValue:e.propertyDetailsData.bathroom,"onUpdate:modelValue":t[11]||(t[11]=s=>e.propertyDetailsData.bathroom=s),type:"number"},null,8,["modelValue"])],2),o("div",Ne,[je,l(c,{dense:"",outlined:"",label:"Bedroom",modelValue:e.propertyDetailsData.bedroom,"onUpdate:modelValue":t[12]||(t[12]=s=>e.propertyDetailsData.bedroom=s),type:"number"},null,8,["modelValue"])])],2),o("div",Re,[Ee,o("input",{type:"file",onInput:t[13]||(t[13]=(...s)=>e.updateMainImage&&e.updateMainImage(...s)),accept:".png, .jpg"},null,32),e.bannerUrl!=""?(x(),T("img",{key:0,src:e.bannerUrl,alt:"",class:r(["object-contain h-[300px] mx-auto",a.$q.screen.lt.md?"w-full":"w-1/2"])},null,10,Oe)):z("",!0)]),o("div",ze,[Ge,l(_,{onUpdateFiles:e.updateParentFiles},null,8,["onUpdateFiles"])]),o("div",He,[l(J,{label:"Submit",class:"text-white bg-primary update-form-button",onClick:e.submitData},null,8,["onClick"])])])])}const _o=O(ae,[["render",Je]]);export{_o as default};
