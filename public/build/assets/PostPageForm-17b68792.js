import{Q as D}from"./QInput-03d5893c.js";import{Q as I}from"./QSelect-51ffb7e5.js";import{J as r,r as g,l as f,L as C,P as T,U as V,d as Q,a as L,B as R,m as q,n as U,x as z,A as t,G as _,H as x}from"./ckeditor-2815513e.js";import{c as N,a as j,g as E,b as M,i as K,Q as O,f as G,h as H,e as J}from"./QBtn-429a055e.js";import{o as Y,u as W}from"./option-sizes-bbc58390.js";import{u as X,a as Z}from"./use-key-composition-b380e759.js";import{C as $,D as ee}from"./DropFile-9d376a00.js";import{u as oe}from"./postTablePage-6cd2718f.js";import{u as te}from"./app-3d20f893.js";import"./QMenu-47e5d027.js";import"./use-prevent-scroll-8cae60da.js";const ae=r("svg",{key:"svg",class:"q-radio__bg absolute non-selectable",viewBox:"0 0 24 24"},[r("path",{d:"M12,22a10,10 0 0 1 -10,-10a10,10 0 0 1 10,-10a10,10 0 0 1 10,10a10,10 0 0 1 -10,10m0,-22a12,12 0 0 0 -12,12a12,12 0 0 0 12,12a12,12 0 0 0 12,-12a12,12 0 0 0 -12,-12"}),r("path",{class:"q-radio__check",d:"M12,6a6,6 0 0 0 -6,6a6,6 0 0 0 6,6a6,6 0 0 0 6,-6a6,6 0 0 0 -6,-6"})]),w=N({name:"QRadio",props:{...j,...E,...X,modelValue:{required:!0},val:{required:!0},label:String,leftLabel:Boolean,checkedIcon:String,uncheckedIcon:String,color:String,keepColor:Boolean,dense:Boolean,disable:Boolean,tabindex:[String,Number]},emits:["update:modelValue"],setup(e,{slots:s,emit:d}){const{proxy:o}=T(),p=M(e,o.$q),b=K(e,Y),c=g(null),{refocusTargetEl:v,refocusTarget:l}=W(e,c),i=f(()=>C(e.modelValue)===C(e.val)),P=f(()=>"q-radio cursor-pointer no-outline row inline no-wrap items-center"+(e.disable===!0?" disabled":"")+(p.value===!0?" q-radio--dark":"")+(e.dense===!0?" q-radio--dense":"")+(e.leftLabel===!0?" reverse":"")),k=f(()=>{const a=e.color!==void 0&&(e.keepColor===!0||i.value===!0)?` text-${e.color}`:"";return`q-radio__inner relative-position q-radio__inner--${i.value===!0?"truthy":"falsy"}${a}`}),n=f(()=>(i.value===!0?e.checkedIcon:e.uncheckedIcon)||null),u=f(()=>e.disable===!0?-1:e.tabindex||0),h=f(()=>{const a={type:"radio"};return e.name!==void 0&&Object.assign(a,{".checked":i.value===!0,"^checked":i.value===!0?"checked":void 0,name:e.name,value:e.val}),a}),y=Z(h);function m(a){a!==void 0&&(V(a),l(a)),e.disable!==!0&&i.value!==!0&&d("update:modelValue",e.val,a)}function A(a){(a.keyCode===13||a.keyCode===32)&&V(a)}function B(a){(a.keyCode===13||a.keyCode===32)&&m(a)}return Object.assign(o,{set:m}),()=>{const a=n.value!==null?[r("div",{key:"icon",class:"q-radio__icon-container absolute-full flex flex-center no-wrap"},[r(O,{class:"q-radio__icon",name:n.value})])]:[ae];e.disable!==!0&&y(a,"unshift"," q-radio__native q-ma-none q-pa-none");const F=[r("div",{class:k.value,style:b.value,"aria-hidden":"true"},a)];v.value!==null&&F.push(v.value);const S=e.label!==void 0?G(s.default,[e.label]):H(s.default);return S!==void 0&&F.push(r("div",{class:"q-radio__label q-anchor--skip"},S)),r("div",{ref:c,class:P.value,tabindex:u.value,role:"radio","aria-label":e.label,"aria-checked":i.value===!0?"true":"false","aria-disabled":e.disable===!0?"true":void 0,onClick:m,onKeydown:A,onKeyup:B},F)}}}),se="/api/ref/",le=Q("ref_list",{state:()=>({ref_list:null}),actions:{async fetchCategoryList(e){const s={headers:{Authorization:`Bearer ${e}`}};try{return(await L.get(se+"category",s)).data.data}catch{}}}});const ne={components:{CkeditorPlugin:$,DropFile:ee},setup(){const e=g({title:"",descriptions:"",images:[],status:"1",category_id:{label:"News",value:1}}),s=g(null),d=g([]),o=g({title:null,descriptions:null,images:null,status:null,category_id:null}),p=oe(),c=te().fetchSessionToken(),v=le(),l=async()=>{const n=await v.fetchCategoryList(c);d.value=n.map(u=>({label:u.name,value:u.id}))},i=n=>{e.value.images=n},P=async()=>{e.value.category_id=e.value.category_id.value;const n=await p.createPost(c,e.value,o);k(n)},k=n=>{var u,h,y;if(n.status===422){const m=n.data.errors;o.value={...o.value,title:((u=m.title)==null?void 0:u[0])??null,descriptions:((h=m.descriptions)==null?void 0:h[0])??null,category_id:((y=m.category_id)==null?void 0:y[0])??null}}};return l(),{postFormPayload:e,updatePostFormData:P,updateParentFiles:i,model:s,options:d,errors:o}}},ie={class:"dashboard-container-page m-4 px-4"},re=t("div",{class:"row pb-4"},[t("div",{class:"col text-2xl"},"Post Form")],-1),de={class:"row bg-white p-5 font-bold gap-y-4"},ce=t("div",{class:"col-12 post-information-title pb-2"}," Post Information ",-1),ue={class:"col-12"},me=t("div",{class:"post-information-title"},"Title",-1),_e={class:"col-12"},ve={class:"col-12 text-red-700"},fe={class:"col-12"},ge=t("div",{class:"post-information-title"},"Descriptions",-1),pe={class:"col-12"},he={class:"col-12 text-red-700"},ye={class:"col-12"},be=t("div",{class:"post-information-title"},"Category",-1),Pe={class:"col-12"},ke={class:"col-12 text-red-700"},Fe={class:"col-12"},xe=t("div",{class:"post-information-title"},"Images",-1),Se={class:"col-12 col-md-6"},Ce=t("div",{class:"post-information-title"},"Status",-1),Ve={class:"col-12 text-right"};function qe(e,s,d,o,p,b){const c=q("CkeditorPlugin"),v=q("DropFile");return U(),z("div",ie,[re,t("div",de,[ce,t("div",ue,[me,t("div",_e,[_(D,{outlined:"",dense:"",label:"Title",modelValue:o.postFormPayload.title,"onUpdate:modelValue":s[0]||(s[0]=l=>o.postFormPayload.title=l),ref:"nameRef"},null,8,["modelValue"])]),t("div",ve,x(o.errors.title),1)]),t("div",fe,[ge,t("div",pe,[_(c,{modelValue:o.postFormPayload.descriptions,"onUpdate:modelValue":s[1]||(s[1]=l=>o.postFormPayload.descriptions=l)},null,8,["modelValue"])]),t("div",he,x(o.errors.descriptions),1)]),t("div",ye,[be,t("div",Pe,[_(I,{outlined:"",dense:"",modelValue:o.postFormPayload.category_id,"onUpdate:modelValue":s[2]||(s[2]=l=>o.postFormPayload.category_id=l),options:o.options,label:"Category"},null,8,["modelValue","options"])]),t("div",ke,x(o.errors.category_id),1)]),t("div",Fe,[xe,_(v,{onUpdateFiles:o.updateParentFiles},null,8,["onUpdateFiles"])]),t("div",Se,[Ce,_(w,{modelValue:o.postFormPayload.status,"onUpdate:modelValue":s[3]||(s[3]=l=>o.postFormPayload.status=l),val:"1",label:"Yes"},null,8,["modelValue"]),_(w,{modelValue:o.postFormPayload.status,"onUpdate:modelValue":s[4]||(s[4]=l=>o.postFormPayload.status=l),val:"0",label:"No"},null,8,["modelValue"])]),t("div",Ve,[_(J,{label:"Submit",class:"text-white bg-primary update-form-button",onClick:o.updatePostFormData},null,8,["onClick"])])])])}const Ne=R(ne,[["render",qe]]);export{Ne as default};
