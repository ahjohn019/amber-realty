import{l as k,J as D,B as N,r as n,m as C,n as R,x as j,A as o,G as a,H as T,W as d}from"./ckeditor-2815513e.js";import{c as M,Q as O,e as z}from"./QBtn-429a055e.js";import{u as G,a as H,b as J}from"./use-checkbox-562fcdb2.js";import{Q as p}from"./QInput-03d5893c.js";import{Q as c}from"./QSelect-51ffb7e5.js";import{C as W,D as K,u as X}from"./refList-bd8f3169.js";import{a as Y,u as Z}from"./index-0a1692c8.js";import{u as $}from"./app-cc250b78.js";import"./option-sizes-bbc58390.js";import"./use-key-composition-b380e759.js";import"./QMenu-47e5d027.js";import"./use-prevent-scroll-8cae60da.js";const ee=M({name:"QToggle",props:{...G,icon:String,iconColor:String},emits:H,setup(s){function t(m,e){const r=k(()=>(m.value===!0?s.checkedIcon:e.value===!0?s.indeterminateIcon:s.uncheckedIcon)||s.icon),u=k(()=>m.value===!0?s.iconColor:null);return()=>[D("div",{class:"q-toggle__track"}),D("div",{class:"q-toggle__thumb absolute flex flex-center no-wrap"},r.value!==void 0?[D(O,{name:r.value,color:u.value})]:void 0)]}return J("toggle",t)}});const oe={components:{CkeditorPlugin:W,DropFile:K},setup(){const s=Y(),t=X(),m=Z(),e=n(s.fetchPropertyData()),r=n(s.fetchPropertyDetailsData());e.value.status="Active";const u=n(s.fetchPropertyError()),v=n(null),y=n([]),l=n(0),f=n(!1),h=n([]),g=n([]),_=$().fetchSessionToken(),U=s.fetchTenureData(),F=s.fetchFurnishingData(),x=s.fetchListingTypeData(),q=s.fetchStatusData(),b=async()=>{const i=await t.fetchStateList(_);h.value=i},V=async()=>{const i=await t.fetchPropertyTypes(_);g.value=i},A=()=>(l.value=f.value?1:0,l.value),w=i=>{e.value.images=i},B=i=>{e.value.description=i},Q=async()=>{var P,S;e.value.property_details=l.value,e.value.status={slug:((P=e.value.status)==null?void 0:P.slug)||"active",label:((S=e.value.status)==null?void 0:S.label)||"Active"};const{tenure:i,bathroom:Re,bedroom:je,square_feet:Me,listing_type:Oe,furnishing:ze,...I}=e.value;return e.value=I,e.value.property_details>0&&(e.value={...e.value,...Object.fromEntries(Object.entries(r.value).map(([L,E])=>[L,E??null]))}),await m.createProperty(_,e.value)};return b(),V(),{propertyData:e,propertyDetailsData:r,submitData:Q,updateParentFiles:w,updateDescriptions:B,propertyDetailsToggle:f,handlePropertyDetails:A,model:v,options:y,errors:u,tenure:U,furnishing:F,listingType:x,status:q,state:h,property_types:g,stateList:b,propertyTypesList:V}}},te={class:"row"},le={class:"col-12 row pb-4"},se=o("div",{class:"col text-2xl"},"Property Form",-1),ae={class:"col text-right"},ne=o("span",{class:"font-bold"},"Details",-1),ie={class:"col-12 row bg-white p-5 font-bold gap-y-4"},re=o("div",{class:"col-12 post-information-name pb-2"},"Create Property",-1),de={class:"col-12"},pe=o("div",{class:"post-information-name"},"Name",-1),ce={class:"col-12"},me={class:"col-12 text-red-700"},ue={class:"col-12"},ve=o("div",{class:"post-information-name"},"Descriptions",-1),ye={class:"col-12"},_e={class:"col-12 text-red-700"},De={class:"col-12"},fe=o("div",{class:"post-information-name"},"Short Descriptions",-1),he={class:"col-12"},ge=o("div",{class:"post-information-name"},"Status",-1),be={class:"col-12 col-md-6"},Ve=o("div",{class:"post-information-name"},"Types",-1),Pe=o("div",{class:"post-information-name"},"State",-1),Se={class:"col-12 col-md-6"},ke=o("div",{class:"post-information-name"},"Price",-1),Ce=o("div",{class:"post-information-name"},"Tenure",-1),Te={class:"col-12 col-md-6"},Ue=o("div",{class:"post-information-name"},"Square Feet",-1),Fe=o("div",{class:"post-information-name"},"Listing Type",-1),xe={class:"col-12 col-md-6"},qe=o("div",{class:"post-information-name"},"Furnished Type",-1),Ae=o("div",{class:"post-information-name"},"Bathroom",-1),we={class:"col-12 col-md-6"},Be=o("div",{class:"post-information-name"},"Bedroom",-1),Qe={class:"col-12"},Ie=o("div",{class:"post-information-name"},"Images",-1),Le={class:"col-12 text-right"};function Ee(s,t,m,e,r,u){const v=C("CkeditorPlugin"),y=C("DropFile");return R(),j("div",te,[o("div",le,[se,o("div",ae,[ne,a(ee,{modelValue:e.propertyDetailsToggle,"onUpdate:modelValue":t[0]||(t[0]=l=>e.propertyDetailsToggle=l),color:"green",onClick:e.handlePropertyDetails},null,8,["modelValue","onClick"])])]),o("div",ie,[re,o("div",de,[pe,o("div",ce,[a(p,{dense:"",outlined:"",label:"Name",modelValue:e.propertyData.name,"onUpdate:modelValue":t[1]||(t[1]=l=>e.propertyData.name=l),ref:"nameRef"},null,8,["modelValue"])]),o("div",me,T(e.errors.name),1)]),o("div",ue,[ve,o("div",ye,[a(v,{description:e.propertyData.description,onUpdateDescriptionsData:e.updateDescriptions},null,8,["description","onUpdateDescriptionsData"])]),o("div",_e,T(e.errors.description),1)]),o("div",De,[fe,o("div",he,[a(p,{modelValue:e.propertyData.short_description,"onUpdate:modelValue":t[2]||(t[2]=l=>e.propertyData.short_description=l),filled:"",outlined:"",placeholder:"Short Descriptions",type:"textarea"},null,8,["modelValue"])])]),o("div",{class:d(["col-12 col-md-6",s.$q.screen.lt.md?"pr-0":"pr-6"])},[ge,a(c,{dense:"",modelValue:e.propertyData.status,"onUpdate:modelValue":t[3]||(t[3]=l=>e.propertyData.status=l),options:e.status,"option-value":"slug","option-label":"label",label:"Status"},null,8,["modelValue","options"])],2),o("div",be,[Ve,a(c,{dense:"",modelValue:e.propertyData.property_types,"onUpdate:modelValue":t[4]||(t[4]=l=>e.propertyData.property_types=l),options:e.property_types,"option-value":"id","option-label":"label",label:"Please Select"},null,8,["modelValue","options"])]),o("div",{class:d(["col-12 col-md-6",s.$q.screen.lt.md?"pr-0":"pr-6"])},[Pe,a(c,{dense:"",modelValue:e.propertyData.state,"onUpdate:modelValue":t[5]||(t[5]=l=>e.propertyData.state=l),options:e.state,"option-value":"id","option-label":"label",label:"Please Select"},null,8,["modelValue","options"])],2),o("div",Se,[ke,a(p,{dense:"",outlined:"",label:"Price",modelValue:e.propertyData.price,"onUpdate:modelValue":t[6]||(t[6]=l=>e.propertyData.price=l),type:"number"},null,8,["modelValue"])]),o("div",{class:d(["col-12 row gap-y-4",e.propertyDetailsToggle?"":"hidden"])},[o("div",{class:d(["col-12 col-md-6",s.$q.screen.lt.md?"pr-0":"pr-6"])},[Ce,a(c,{dense:"",modelValue:e.propertyDetailsData.tenure,"onUpdate:modelValue":t[7]||(t[7]=l=>e.propertyDetailsData.tenure=l),options:e.tenure,"option-value":"slug","option-label":"label",label:"Please Select"},null,8,["modelValue","options"])],2),o("div",Te,[Ue,a(p,{dense:"",outlined:"",label:"Square Feet",modelValue:e.propertyDetailsData.square_feet,"onUpdate:modelValue":t[8]||(t[8]=l=>e.propertyDetailsData.square_feet=l),type:"number"},null,8,["modelValue"])]),o("div",{class:d(["col-12 col-md-6",s.$q.screen.lt.md?"pr-0":"pr-6"])},[Fe,a(c,{dense:"",modelValue:e.propertyDetailsData.listing_type,"onUpdate:modelValue":t[9]||(t[9]=l=>e.propertyDetailsData.listing_type=l),options:e.listingType,"option-value":"slug","option-label":"label",label:"Please Select"},null,8,["modelValue","options"])],2),o("div",xe,[qe,a(c,{dense:"",modelValue:e.propertyDetailsData.furnishing,"onUpdate:modelValue":t[10]||(t[10]=l=>e.propertyDetailsData.furnishing=l),options:e.furnishing,"option-value":"slug","option-label":"label",label:"Please Select"},null,8,["modelValue","options"])]),o("div",{class:d(["col-12 col-md-6",s.$q.screen.lt.md?"pr-0":"pr-6"])},[Ae,a(p,{dense:"",outlined:"",label:"Bathroom",modelValue:e.propertyDetailsData.bathroom,"onUpdate:modelValue":t[11]||(t[11]=l=>e.propertyDetailsData.bathroom=l),type:"number"},null,8,["modelValue"])],2),o("div",we,[Be,a(p,{dense:"",outlined:"",label:"Bedroom",modelValue:e.propertyDetailsData.bedroom,"onUpdate:modelValue":t[12]||(t[12]=l=>e.propertyDetailsData.bedroom=l),type:"number"},null,8,["modelValue"])])],2),o("div",Qe,[Ie,a(y,{onUpdateFiles:e.updateParentFiles},null,8,["onUpdateFiles"])]),o("div",Le,[a(z,{label:"Submit",class:"text-white bg-primary update-form-button",onClick:e.submitData},null,8,["onClick"])])])])}const so=N(oe,[["render",Ee]]);export{so as default};
