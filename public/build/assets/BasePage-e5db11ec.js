import{Q as A}from"./QScrollArea-b5718d6e.js";import{Q as V,a as M,b as R,c as j,d as H,e as K}from"./QHeader-21375be5.js";import{Q as q}from"./QBtn-1da1afde.js";import{k as G,B as I,z as Q,r as f,m as c,u as h,A as e,q as t,N as D,n as m,y as i,F as w,O as x,D as C,E as v,P as J,R as b,o as W,l as y,S as X,s as Y}from"./ckeditor-e046e440.js";import{c as Z,e as ee,R as S,Q as N}from"./vm-8712a45d.js";import{Q as k,a as g,b as U}from"./portal-d5db9dda.js";import{Q as L,a as T}from"./QSeparator-af46fafe.js";import{Q as te}from"./QBtnDropdown-e0436c95.js";import{C as oe}from"./ClosePopup-d483b431.js";import{Q as ae}from"./QAvatar-1774fcd0.js";import{u as z}from"./auth-8ecf675a.js";const ne=Z({name:"QToolbarTitle",props:{shrink:Boolean},setup(n,{slots:l}){const r=G(()=>"q-toolbar__title ellipsis"+(n.shrink===!0?" col-shrink":""));return()=>I("div",{class:r.value},ee(l.default))}}),le=[{icon:"description",title:"property",text:"Property",route:"/",separator:!0},{icon:"logout",title:"logout",text:"Logout"}],re={setup(){const n=f(!1),l=f("dashboard"),r=z(),o=r.fetchSessionToken(),p=()=>{n.value=!n.value},_=s=>{l.value=s.title,l.value==="logout"&&a()},a=async()=>{try{await r.handleLogout(o)}catch(s){console.log(s)}};return{toggleDrawerMobile:p,handleItemClick:_,handleLogout:a,toggleDrawer:n,menuList:le}}},se=["src"];function ce(n,l,r,o,p,_){return c(),h(w,null,[e(V,{class:"justify-end"},{default:t(()=>[e(q,{flat:"",onClick:o.toggleDrawerMobile,round:"",dense:"",icon:"menu"},null,8,["onClick"])]),_:1}),e(M,{modelValue:o.toggleDrawer,"onUpdate:modelValue":l[0]||(l[0]=a=>o.toggleDrawer=a),width:200,breakpoint:500,overlay:"",bordered:"",side:"right",class:b(n.$q.dark.isActive?"bg-grey-9":"bg-grey-3")},{default:t(()=>[e(A,{class:"fit"},{default:t(()=>[e(L,null,{default:t(()=>[D((c(),m(k,{clickable:"",to:"/"},{default:t(()=>[e(g,{class:"items-center"},{default:t(()=>[e(ae,{size:"100px"},{default:t(()=>[i("img",{src:n.mainLogo},null,8,se)]),_:1})]),_:1})]),_:1})),[[S]]),e(T),(c(!0),h(w,null,x(o.menuList,(a,s)=>(c(),h(w,{key:s},[D((c(),m(k,{clickable:"",active:a.title==="Outbox",onClick:d=>o.handleItemClick(a),to:a.route},{default:t(()=>[e(g,{avatar:""},{default:t(()=>[e(N,{name:a.icon},null,8,["name"])]),_:2},1024),e(g,null,{default:t(()=>[C(v(a.text),1)]),_:2},1024)]),_:2},1032,["active","onClick","to"])),[[S]]),a.separator?(c(),m(T,{key:"sep"+s})):J("",!0)],64))),128))]),_:1})]),_:1})]),_:1},8,["modelValue","class"])],64)}const ie=Q(re,[["render",ce]]);const de={components:{DrawerMobile:ie},props:["drawer"],setup(n,{emit:l}){let r=n.drawer,o=!0;const p=()=>{o?(r=!1,o=!1):r=!r,_(r)},_=u=>{l("updateDrawerSelectionData",u)},a=z(),s=a.fetchSessionToken(),d=f({email:"",name:""}),$=f([{label:"Log Out",value:"logout",handler:"handlerLogout"}]),E=f(""),B=async()=>{try{await a.handleLogout(s)}catch(u){console.log(u)}},F=async()=>{try{const u=await a.fetchProfile(s);d.value.email=u.email,d.value.name=u.name}catch(u){console.error("Error fetching user profile:",u)}},O=u=>{const P={handlerLogout:B}[u];P&&P()};return W(()=>{F()}),{handleLogout:B,adminProfileData:d,navBarDropDown:$,handleDropdownMenu:O,searchKeywordAdmin:E,drawerSelection:r,drawerToggle:p,handleDrawerSelection:_}}},ue={class:"row items-center justify-between"},_e=["src"],fe={class:"col-12 row"},me={class:"col-12"},pe={class:"row items-center no-wrap"},he={class:"col text-center"},ge={class:"font-bold"},we={class:"lowercase text-gray-500"};function ve(n,l,r,o,p,_){const a=y("router-link"),s=y("DrawerMobile");return c(),m(R,{class:"border-b bg-white text-black py-2"},{default:t(()=>[i("div",ue,[i("div",{class:b(["col col-lg-1 text-sm md:text-2xl lg:text-center",n.$q.screen.lt.md?"hidden":""])},[e(V,null,{default:t(()=>[e(q,{flat:"",onClick:o.drawerToggle,round:"",dense:"",icon:"menu"},null,8,["onClick"]),e(ne,null,{default:t(()=>[e(a,{to:"/"},{default:t(()=>[i("img",{src:n.mainLogo,alt:"",width:"100"},null,8,_e)]),_:1})]),_:1})]),_:1})],2),i("div",{class:b(["col row text-right",n.$q.screen.lt.md?"hidden":""])},[i("div",fe,[i("div",me,[e(te,{class:"text-black",color:"white","dropdown-icon":"expand_more"},{label:t(()=>[i("div",pe,[i("div",he,[i("div",ge,v(o.adminProfileData.name),1),i("div",we,v(o.adminProfileData.email),1)])])]),default:t(()=>[e(L,null,{default:t(()=>[(c(!0),h(w,null,x(o.navBarDropDown,d=>D((c(),m(k,{key:d,clickable:"",onClick:$=>o.handleDropdownMenu(d.handler)},{default:t(()=>[e(g,null,{default:t(()=>[e(U,null,{default:t(()=>[C(v(d.label),1)]),_:2},1024)]),_:2},1024)]),_:2},1032,["onClick"])),[[oe]])),128))]),_:1})]),_:1})])])],2),i("div",{class:b(["col",n.$q.screen.lt.md?"":"hidden"])},[e(s)],2)])]),_:1})}const be=Q(de,[["render",ve]]);const ke=[{icon:"description",title:"property",text:"Property",route:"/"}],De={setup(n){const l=f("dashboard");function r(o){l.value=o.title}return{link:l,sideBarList:ke,handleItemClick:r}}},ye={style:{"max-width":"250px","max-height":"0"}};function Qe(n,l,r,o,p,_){return c(),h("div",ye,[e(L,{padding:"",class:"border-r side-bar-container bg-white fixed"},{default:t(()=>[(c(!0),h(w,null,x(o.sideBarList,(a,s)=>D((c(),m(k,{key:s,clickable:"",dense:"",onClick:d=>o.handleItemClick(a),to:a.route,class:"m-4 rounded"},{default:t(()=>[e(k,null,{default:t(()=>[e(g,{avatar:""},{default:t(()=>[e(N,{name:a.icon},null,8,["name"])]),_:2},1024),e(g,{class:"font-bold"},{default:t(()=>[e(U,{class:"font-bold"},{default:t(()=>[C(v(a.text),1)]),_:2},1024)]),_:2},1024)]),_:2},1024)]),_:2},1032,["onClick","to"])),[[S]])),128))]),_:1})])}const Se=Q(De,[["render",Qe]]);const xe={components:{NavBar:be,SideBar:Se},setup(){const n=f(!1),l=f(!1);return{drawer:n,updateDrawerSelection:o=>{l.value=o},updateDrawerSelectionData:l}}};function Ce(n,l,r,o,p,_){const a=y("nav-bar"),s=y("side-bar");return c(),m(K,{view:"hHh Lpr lff",container:"",style:{height:"100vh"}},{default:t(()=>[e(a,{drawer:o.drawer,onUpdateDrawerSelectionData:o.updateDrawerSelection},null,8,["drawer","onUpdateDrawerSelectionData"]),(c(),m(X,null,{default:t(()=>[e(j,{class:"dashboard-container"},{default:t(()=>[e(H,{class:"overflow-hidden"},{default:t(()=>[e(M,{modelValue:o.updateDrawerSelectionData,"onUpdate:modelValue":l[0]||(l[0]=d=>o.updateDrawerSelectionData=d),"show-if-above":"",width:200,bordered:"",class:b(!n.$q.screen.lt.md)},{default:t(()=>[e(A,{class:"fit"},{default:t(()=>[e(s,{class:"admin-sidebar"})]),_:1})]),_:1},8,["modelValue","class"]),Y(n.$slots,"content")]),_:3})]),_:3})]),_:3}))]),_:3})}const Ee=Q(xe,[["render",Ce]]);export{Ee as B};
