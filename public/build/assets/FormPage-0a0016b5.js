import{l as C,J as f,B as N,r as n,m as T,n as R,x as j,A as o,G as a,H as _,W as d}from"./ckeditor-2815513e.js";import{c as M,Q as O,e as z}from"./QBtn-429a055e.js";import{u as G,a as H,b as J}from"./use-checkbox-562fcdb2.js";import{Q as p}from"./QInput-03d5893c.js";import{Q as c}from"./QSelect-51ffb7e5.js";import{C as W,D as K,u as X}from"./refList-bd8f3169.js";import{a as Y,u as Z}from"./index-fa176ddb.js";import{u as $}from"./app-c76339de.js";import"./option-sizes-bbc58390.js";import"./use-key-composition-b380e759.js";import"./QMenu-47e5d027.js";import"./use-prevent-scroll-8cae60da.js";const ee=M({name:"QToggle",props:{...G,icon:String,iconColor:String},emits:H,setup(l){function t(m,e){const r=C(()=>(m.value===!0?l.checkedIcon:e.value===!0?l.indeterminateIcon:l.uncheckedIcon)||l.icon),u=C(()=>m.value===!0?l.iconColor:null);return()=>[f("div",{class:"q-toggle__track"}),f("div",{class:"q-toggle__thumb absolute flex flex-center no-wrap"},r.value!==void 0?[f(O,{name:r.value,color:u.value})]:void 0)]}return J("toggle",t)}});const oe={components:{CkeditorPlugin:W,DropFile:K},setup(){const l=Y(),t=X(),m=Z(),e=n(l.fetchPropertyData()),r=n(l.fetchPropertyDetailsData());e.value.status="Active";const u=n(l.fetchPropertyError()),v=n(null),y=n([]),s=n(0),h=n(!1),g=n([]),b=n([]),D=$().fetchSessionToken(),U=l.fetchTenureData(),x=l.fetchFurnishingData(),F=l.fetchListingTypeData(),q=l.fetchStatusData(),V=async()=>{const i=await t.fetchStateList(D);g.value=i},P=async()=>{const i=await t.fetchPropertyTypes(D);b.value=i},A=()=>(s.value=h.value?1:0,s.value),w=i=>{e.value.images=i},B=i=>{e.value.description=i},Q=async()=>{var S,k;e.value.property_details=s.value,e.value.status={slug:((S=e.value.status)==null?void 0:S.slug)||"active",label:((k=e.value.status)==null?void 0:k.label)||"Active"};const{tenure:i,bathroom:Oe,bedroom:ze,square_feet:Ge,listing_type:He,furnishing:Je,...I}=e.value;return e.value=I,e.value.property_details>0&&(e.value={...e.value,...Object.fromEntries(Object.entries(r.value).map(([L,E])=>[L,E??null]))}),await m.createProperty(D,e.value,u)};return V(),P(),{propertyData:e,propertyDetailsData:r,submitData:Q,updateParentFiles:w,updateDescriptions:B,propertyDetailsToggle:h,handlePropertyDetails:A,model:v,options:y,errors:u,tenure:U,furnishing:x,listingType:F,status:q,state:g,property_types:b,stateList:V,propertyTypesList:P}}},te={class:"row"},se={class:"col-12 row pb-4"},le=o("div",{class:"col text-2xl"},"Property Form",-1),ae={class:"col text-right"},ne=o("span",{class:"font-bold"},"Details",-1),ie={class:"col-12 row bg-white p-5 font-bold gap-y-4"},re=o("div",{class:"col-12 post-information-name pb-2"},"Create Property",-1),de={class:"col-12"},pe=o("div",{class:"post-information-name"},"Name",-1),ce={class:"col-12"},me={class:"col-12 text-red-700 pt-2"},ue={class:"col-12"},_e=o("div",{class:"post-information-name"},"Descriptions",-1),ve={class:"col-12"},ye={class:"col-12 text-red-700 pt-2"},De={class:"col-12"},fe=o("div",{class:"post-information-name"},"Short Descriptions",-1),he={class:"col-12"},ge={class:"col-12 text-red-700 pt-2"},be=o("div",{class:"post-information-name"},"Status",-1),Ve={class:"col-12 col-md-6"},Pe=o("div",{class:"post-information-name"},"Types",-1),Se={class:"col-12 text-red-700 pt-2"},ke=o("div",{class:"post-information-name"},"State",-1),Ce={class:"col-12 text-red-700 pt-2"},Te={class:"col-12 col-md-6"},Ue=o("div",{class:"post-information-name"},"Price",-1),xe=o("div",{class:"post-information-name"},"Tenure",-1),Fe={class:"col-12 col-md-6"},qe=o("div",{class:"post-information-name"},"Square Feet",-1),Ae=o("div",{class:"post-information-name"},"Listing Type",-1),we={class:"col-12 col-md-6"},Be=o("div",{class:"post-information-name"},"Furnished Type",-1),Qe=o("div",{class:"post-information-name"},"Bathroom",-1),Ie={class:"col-12 col-md-6"},Le=o("div",{class:"post-information-name"},"Bedroom",-1),Ee={class:"col-12"},Ne=o("div",{class:"post-information-name"},"Images",-1),Re={class:"col-12 text-right"};function je(l,t,m,e,r,u){const v=T("CkeditorPlugin"),y=T("DropFile");return R(),j("div",te,[o("div",se,[le,o("div",ae,[ne,a(ee,{modelValue:e.propertyDetailsToggle,"onUpdate:modelValue":t[0]||(t[0]=s=>e.propertyDetailsToggle=s),color:"green",onClick:e.handlePropertyDetails},null,8,["modelValue","onClick"])])]),o("div",ie,[re,o("div",de,[pe,o("div",ce,[a(p,{dense:"",outlined:"",label:"Name",modelValue:e.propertyData.name,"onUpdate:modelValue":t[1]||(t[1]=s=>e.propertyData.name=s),ref:"nameRef"},null,8,["modelValue"])]),o("div",me,_(e.errors.name),1)]),o("div",ue,[_e,o("div",ve,[a(v,{description:e.propertyData.description,onUpdateDescriptionsData:e.updateDescriptions},null,8,["description","onUpdateDescriptionsData"])]),o("div",ye,_(e.errors.description),1)]),o("div",De,[fe,o("div",he,[a(p,{modelValue:e.propertyData.short_description,"onUpdate:modelValue":t[2]||(t[2]=s=>e.propertyData.short_description=s),filled:"",outlined:"",placeholder:"Short Descriptions",type:"textarea"},null,8,["modelValue"])]),o("div",ge,_(e.errors.short_description),1)]),o("div",{class:d(["col-12 col-md-6",l.$q.screen.lt.md?"pr-0":"pr-6"])},[be,a(c,{dense:"",modelValue:e.propertyData.status,"onUpdate:modelValue":t[3]||(t[3]=s=>e.propertyData.status=s),options:e.status,"option-value":"slug","option-label":"label",label:"Status"},null,8,["modelValue","options"])],2),o("div",Ve,[Pe,a(c,{dense:"",modelValue:e.propertyData.property_types,"onUpdate:modelValue":t[4]||(t[4]=s=>e.propertyData.property_types=s),options:e.property_types,"option-value":"id","option-label":"label",label:"Please Select"},null,8,["modelValue","options"]),o("div",Se,_(e.errors.type_id),1)]),o("div",{class:d(["col-12 col-md-6",l.$q.screen.lt.md?"pr-0":"pr-6"])},[ke,a(c,{dense:"",modelValue:e.propertyData.state,"onUpdate:modelValue":t[5]||(t[5]=s=>e.propertyData.state=s),options:e.state,"option-value":"id","option-label":"label",label:"Please Select"},null,8,["modelValue","options"]),o("div",Ce,_(e.errors.state_id),1)],2),o("div",Te,[Ue,a(p,{dense:"",outlined:"",label:"Price",modelValue:e.propertyData.price,"onUpdate:modelValue":t[6]||(t[6]=s=>e.propertyData.price=s),type:"number"},null,8,["modelValue"])]),o("div",{class:d(["col-12 row gap-y-4",e.propertyDetailsToggle?"":"hidden"])},[o("div",{class:d(["col-12 col-md-6",l.$q.screen.lt.md?"pr-0":"pr-6"])},[xe,a(c,{dense:"",modelValue:e.propertyDetailsData.tenure,"onUpdate:modelValue":t[7]||(t[7]=s=>e.propertyDetailsData.tenure=s),options:e.tenure,"option-value":"slug","option-label":"label",label:"Please Select"},null,8,["modelValue","options"])],2),o("div",Fe,[qe,a(p,{dense:"",outlined:"",label:"Square Feet",modelValue:e.propertyDetailsData.square_feet,"onUpdate:modelValue":t[8]||(t[8]=s=>e.propertyDetailsData.square_feet=s),type:"number"},null,8,["modelValue"])]),o("div",{class:d(["col-12 col-md-6",l.$q.screen.lt.md?"pr-0":"pr-6"])},[Ae,a(c,{dense:"",modelValue:e.propertyDetailsData.listing_type,"onUpdate:modelValue":t[9]||(t[9]=s=>e.propertyDetailsData.listing_type=s),options:e.listingType,"option-value":"slug","option-label":"label",label:"Please Select"},null,8,["modelValue","options"])],2),o("div",we,[Be,a(c,{dense:"",modelValue:e.propertyDetailsData.furnishing,"onUpdate:modelValue":t[10]||(t[10]=s=>e.propertyDetailsData.furnishing=s),options:e.furnishing,"option-value":"slug","option-label":"label",label:"Please Select"},null,8,["modelValue","options"])]),o("div",{class:d(["col-12 col-md-6",l.$q.screen.lt.md?"pr-0":"pr-6"])},[Qe,a(p,{dense:"",outlined:"",label:"Bathroom",modelValue:e.propertyDetailsData.bathroom,"onUpdate:modelValue":t[11]||(t[11]=s=>e.propertyDetailsData.bathroom=s),type:"number"},null,8,["modelValue"])],2),o("div",Ie,[Le,a(p,{dense:"",outlined:"",label:"Bedroom",modelValue:e.propertyDetailsData.bedroom,"onUpdate:modelValue":t[12]||(t[12]=s=>e.propertyDetailsData.bedroom=s),type:"number"},null,8,["modelValue"])])],2),o("div",Ee,[Ne,a(y,{onUpdateFiles:e.updateParentFiles},null,8,["onUpdateFiles"])]),o("div",Re,[a(z,{label:"Submit",class:"text-white bg-primary update-form-button",onClick:e.submitData},null,8,["onClick"])])])])}const io=N(oe,[["render",je]]);export{io as default};
