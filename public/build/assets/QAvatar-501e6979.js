import{x as A,a8 as q,aA as I,r as C,k as n,w as v,a3 as ce,o as Le,i as ve,N as Pe,B as h,J as N,aB as he,j as me,aC as He,az as E,aD as Oe}from"./ckeditor-f00ee2ff.js";import{d as Me,f as We,j as pe,w as De,x as Fe}from"./position-engine-945fd7aa.js";import{a as Re,b as K,d as ne}from"./use-tick-1593138a.js";import{c as D,u as _e,b as Ve,k as de,e as J,h as Ae,f as Ie,a as Ne,d as je,Q as Ue,m as Ee}from"./vm-f3b2e62e.js";import{T as oe,b as Ke,a as le}from"./QScrollArea-2742a438.js";const fe=150,tt=D({name:"QDrawer",inheritAttrs:!1,props:{...Me,..._e,side:{type:String,default:"left",validator:e=>["left","right"].includes(e)},width:{type:Number,default:300},mini:Boolean,miniToOverlay:Boolean,miniWidth:{type:Number,default:57},noMiniAnimation:Boolean,breakpoint:{type:Number,default:1023},showIfAbove:Boolean,behavior:{type:String,validator:e=>["default","desktop","mobile"].includes(e),default:"default"},bordered:Boolean,elevated:Boolean,overlay:Boolean,persistent:Boolean,noSwipeOpen:Boolean,noSwipeClose:Boolean,noSwipeBackdrop:Boolean},emits:[...We,"onLayout","miniState"],setup(e,{slots:w,emit:d,attrs:l}){const i=N(),{proxy:{$q:s}}=i,S=Ve(e,s),{preventBodyScroll:g}=Fe(),{registerTimeout:k,removeTimeout:x}=Re(),a=A(I,q);if(a===q)return console.error("QDrawer needs to be child of QLayout"),q;let M,Q=null,y;const f=C(e.behavior==="mobile"||e.behavior!=="desktop"&&a.totalWidth.value<=e.breakpoint),L=n(()=>e.mini===!0&&f.value!==!0),b=n(()=>L.value===!0?e.miniWidth:e.width),c=C(e.showIfAbove===!0&&f.value===!1?!0:e.modelValue===!0),o=n(()=>e.persistent!==!0&&(f.value===!0||ye.value===!0));function z(t,r){if(W(),t!==!1&&a.animate(),T(0),f.value===!0){const $=a.instances[j.value];$!==void 0&&$.belowBreakpoint===!0&&$.hide(!1),H(1),a.isContainer.value!==!0&&g(!0)}else H(0),t!==!1&&ee(!1);k(()=>{t!==!1&&ee(!0),r!==!0&&d("show",t)},fe)}function u(t,r){_(),t!==!1&&a.animate(),H(0),T(F.value*b.value),te(),r!==!0?k(()=>{d("hide",t)},fe):x()}const{show:m,hide:B}=pe({showing:c,hideOnRouteChange:o,handleShow:z,handleHide:u}),{addToHistory:W,removeFromHistory:_}=De(c,B,o),p={belowBreakpoint:f,hide:B},P=n(()=>e.side==="right"),F=n(()=>(s.lang.rtl===!0?-1:1)*(P.value===!0?1:-1)),ie=C(0),R=C(!1),X=C(!1),re=C(b.value*F.value),j=n(()=>P.value===!0?"left":"right"),G=n(()=>c.value===!0&&f.value===!1&&e.overlay===!1?e.miniToOverlay===!0?e.miniWidth:b.value:0),Y=n(()=>e.overlay===!0||e.miniToOverlay===!0||a.view.value.indexOf(P.value?"R":"L")>-1||s.platform.is.ios===!0&&a.isContainer.value===!0),V=n(()=>e.overlay===!1&&c.value===!0&&f.value===!1),ye=n(()=>e.overlay===!0&&c.value===!0&&f.value===!1),ge=n(()=>"fullscreen q-drawer__backdrop"+(c.value===!1&&R.value===!1?" hidden":"")),be=n(()=>({backgroundColor:`rgba(0,0,0,${ie.value*.4})`})),ue=n(()=>P.value===!0?a.rows.value.top[2]==="r":a.rows.value.top[0]==="l"),we=n(()=>P.value===!0?a.rows.value.bottom[2]==="r":a.rows.value.bottom[0]==="l"),Se=n(()=>{const t={};return a.header.space===!0&&ue.value===!1&&(Y.value===!0?t.top=`${a.header.offset}px`:a.header.space===!0&&(t.top=`${a.header.size}px`)),a.footer.space===!0&&we.value===!1&&(Y.value===!0?t.bottom=`${a.footer.offset}px`:a.footer.space===!0&&(t.bottom=`${a.footer.size}px`)),t}),qe=n(()=>{const t={width:`${b.value}px`,transform:`translateX(${re.value}px)`};return f.value===!0?t:Object.assign(t,Se.value)}),xe=n(()=>"q-drawer__content fit "+(a.isContainer.value!==!0?"scroll":"overflow-auto")),ze=n(()=>`q-drawer q-drawer--${e.side}`+(X.value===!0?" q-drawer--mini-animate":"")+(e.bordered===!0?" q-drawer--bordered":"")+(S.value===!0?" q-drawer--dark q-dark":"")+(R.value===!0?" no-transition":c.value===!0?"":" q-layout--prevent-focus")+(f.value===!0?" fixed q-drawer--on-top q-drawer--mobile q-drawer--top-padding":` q-drawer--${L.value===!0?"mini":"standard"}`+(Y.value===!0||V.value!==!0?" fixed":"")+(e.overlay===!0||e.miniToOverlay===!0?" q-drawer--on-top":"")+(ue.value===!0?" q-drawer--top-padding":""))),$e=n(()=>{const t=s.lang.rtl===!0?e.side:j.value;return[[oe,Te,void 0,{[t]:!0,mouse:!0}]]}),Ce=n(()=>{const t=s.lang.rtl===!0?j.value:e.side;return[[oe,se,void 0,{[t]:!0,mouse:!0}]]}),Be=n(()=>{const t=s.lang.rtl===!0?j.value:e.side;return[[oe,se,void 0,{[t]:!0,mouse:!0,mouseAllDir:!0}]]});function Z(){Qe(f,e.behavior==="mobile"||e.behavior!=="desktop"&&a.totalWidth.value<=e.breakpoint)}v(f,t=>{t===!0?(M=c.value,c.value===!0&&B(!1)):e.overlay===!1&&e.behavior!=="mobile"&&M!==!1&&(c.value===!0?(T(0),H(0),te()):m(!1))}),v(()=>e.side,(t,r)=>{a.instances[r]===p&&(a.instances[r]=void 0,a[r].space=!1,a[r].offset=0),a.instances[t]=p,a[t].size=b.value,a[t].space=V.value,a[t].offset=G.value}),v(a.totalWidth,()=>{(a.isContainer.value===!0||document.qScrollPrevented!==!0)&&Z()}),v(()=>e.behavior+e.breakpoint,Z),v(a.isContainer,t=>{c.value===!0&&g(t!==!0),t===!0&&Z()}),v(a.scrollbarWidth,()=>{T(c.value===!0?0:void 0)}),v(G,t=>{O("offset",t)}),v(V,t=>{d("onLayout",t),O("space",t)}),v(P,()=>{T()}),v(b,t=>{T(),ae(e.miniToOverlay,t)}),v(()=>e.miniToOverlay,t=>{ae(t,b.value)}),v(()=>s.lang.rtl,()=>{T()}),v(()=>e.mini,()=>{e.noMiniAnimation||e.modelValue===!0&&(ke(),a.animate())}),v(L,t=>{d("miniState",t)});function T(t){t===void 0?ce(()=>{t=c.value===!0?0:b.value,T(F.value*t)}):(a.isContainer.value===!0&&P.value===!0&&(f.value===!0||Math.abs(t)===b.value)&&(t+=F.value*a.scrollbarWidth.value),re.value=t)}function H(t){ie.value=t}function ee(t){const r=t===!0?"remove":a.isContainer.value!==!0?"add":"";r!==""&&document.body.classList[r]("q-body--drawer-toggle")}function ke(){Q!==null&&clearTimeout(Q),i.proxy&&i.proxy.$el&&i.proxy.$el.classList.add("q-drawer--mini-animate"),X.value=!0,Q=setTimeout(()=>{Q=null,X.value=!1,i&&i.proxy&&i.proxy.$el&&i.proxy.$el.classList.remove("q-drawer--mini-animate")},150)}function Te(t){if(c.value!==!1)return;const r=b.value,$=K(t.distance.x,0,r);if(t.isFinal===!0){$>=Math.min(75,r)===!0?m():(a.animate(),H(0),T(F.value*r)),R.value=!1;return}T((s.lang.rtl===!0?P.value!==!0:P.value)?Math.max(r-$,0):Math.min(0,$-r)),H(K($/r,0,1)),t.isFirst===!0&&(R.value=!0)}function se(t){if(c.value!==!0)return;const r=b.value,$=t.direction===e.side,U=(s.lang.rtl===!0?$!==!0:$)?K(t.distance.x,0,r):0;if(t.isFinal===!0){Math.abs(U)<Math.min(75,r)===!0?(a.animate(),H(1),T(0)):B(),R.value=!1;return}T(F.value*U),H(K(1-U/r,0,1)),t.isFirst===!0&&(R.value=!0)}function te(){g(!1),ee(!0)}function O(t,r){a.update(e.side,t,r)}function Qe(t,r){t.value!==r&&(t.value=r)}function ae(t,r){O("size",t===!0?e.miniWidth:r)}return a.instances[e.side]=p,ae(e.miniToOverlay,b.value),O("space",V.value),O("offset",G.value),e.showIfAbove===!0&&e.modelValue!==!0&&c.value===!0&&e["onUpdate:modelValue"]!==void 0&&d("update:modelValue",!0),Le(()=>{d("onLayout",V.value),d("miniState",L.value),M=e.showIfAbove===!0;const t=()=>{(c.value===!0?z:u)(!1,!0)};if(a.totalWidth.value!==0){ce(t);return}y=v(a.totalWidth,()=>{y(),y=void 0,c.value===!1&&e.showIfAbove===!0&&f.value===!1?m(!1):t()})}),ve(()=>{y!==void 0&&y(),Q!==null&&(clearTimeout(Q),Q=null),c.value===!0&&te(),a.instances[e.side]===p&&(a.instances[e.side]=void 0,O("size",0),O("offset",0),O("space",!1))}),()=>{const t=[];f.value===!0&&(e.noSwipeOpen===!1&&t.push(Pe(h("div",{key:"open",class:`q-drawer__opener fixed-${e.side}`,"aria-hidden":"true"}),$e.value)),t.push(de("div",{ref:"backdrop",class:ge.value,style:be.value,"aria-hidden":"true",onClick:B},void 0,"backdrop",e.noSwipeBackdrop!==!0&&c.value===!0,()=>Be.value)));const r=L.value===!0&&w.mini!==void 0,$=[h("div",{...l,key:""+r,class:[xe.value,l.class]},r===!0?w.mini():J(w.default))];return e.elevated===!0&&c.value===!0&&$.push(h("div",{class:"q-layout__shadow absolute-full overflow-hidden no-pointer-events"})),t.push(de("aside",{ref:"content",class:ze.value,style:qe.value},$,"contentclose",e.noSwipeClose!==!0&&f.value===!0,()=>Ce.value)),h("div",{class:"q-drawer-container"},t)}}}),at=D({name:"QPage",props:{padding:Boolean,styleFn:Function},setup(e,{slots:w}){const{proxy:{$q:d}}=N(),l=A(I,q);if(l===q)return console.error("QPage needs to be a deep child of QLayout"),q;if(A(he,q)===q)return console.error("QPage needs to be child of QPageContainer"),q;const s=n(()=>{const g=(l.header.space===!0?l.header.size:0)+(l.footer.space===!0?l.footer.size:0);if(typeof e.styleFn=="function"){const k=l.isContainer.value===!0?l.containerHeight.value:d.screen.height;return e.styleFn(g,k)}return{minHeight:l.isContainer.value===!0?l.containerHeight.value-g+"px":d.screen.height===0?g!==0?`calc(100vh - ${g}px)`:"100vh":d.screen.height-g+"px"}}),S=n(()=>`q-page${e.padding===!0?" q-layout-padding":""}`);return()=>h("main",{class:S.value,style:s.value},J(w.default))}}),nt=D({name:"QPageContainer",setup(e,{slots:w}){const{proxy:{$q:d}}=N(),l=A(I,q);if(l===q)return console.error("QPageContainer needs to be child of QLayout"),q;me(he,!0);const i=n(()=>{const s={};return l.header.space===!0&&(s.paddingTop=`${l.header.size}px`),l.right.space===!0&&(s[`padding${d.lang.rtl===!0?"Left":"Right"}`]=`${l.right.size}px`),l.footer.space===!0&&(s.paddingBottom=`${l.footer.size}px`),l.left.space===!0&&(s[`padding${d.lang.rtl===!0?"Right":"Left"}`]=`${l.left.size}px`),s});return()=>h("div",{class:"q-page-container",style:i.value},J(w.default))}}),ot=D({name:"QLayout",props:{container:Boolean,view:{type:String,default:"hhh lpr fff",validator:e=>/^(h|l)h(h|r) lpr (f|l)f(f|r)$/.test(e.toLowerCase())},onScroll:Function,onScrollHeight:Function,onResize:Function},setup(e,{slots:w,emit:d}){const{proxy:{$q:l}}=N(),i=C(null),s=C(l.screen.height),S=C(e.container===!0?0:l.screen.width),g=C({position:0,direction:"down",inflectionPoint:0}),k=C(0),x=C(He.value===!0?0:ne()),a=n(()=>"q-layout q-layout--"+(e.container===!0?"containerized":"standard")),M=n(()=>e.container===!1?{minHeight:l.screen.height+"px"}:null),Q=n(()=>x.value!==0?{[l.lang.rtl===!0?"left":"right"]:`${x.value}px`}:null),y=n(()=>x.value!==0?{[l.lang.rtl===!0?"right":"left"]:0,[l.lang.rtl===!0?"left":"right"]:`-${x.value}px`,width:`calc(100% + ${x.value}px)`}:null);function f(u){if(e.container===!0||document.qScrollPrevented!==!0){const m={position:u.position.top,direction:u.direction,directionChanged:u.directionChanged,inflectionPoint:u.inflectionPoint.top,delta:u.delta.top};g.value=m,e.onScroll!==void 0&&d("scroll",m)}}function L(u){const{height:m,width:B}=u;let W=!1;s.value!==m&&(W=!0,s.value=m,e.onScrollHeight!==void 0&&d("scrollHeight",m),c()),S.value!==B&&(W=!0,S.value=B),W===!0&&e.onResize!==void 0&&d("resize",u)}function b({height:u}){k.value!==u&&(k.value=u,c())}function c(){if(e.container===!0){const u=s.value>k.value?ne():0;x.value!==u&&(x.value=u)}}let o=null;const z={instances:{},view:n(()=>e.view),isContainer:n(()=>e.container),rootRef:i,height:s,containerHeight:k,scrollbarWidth:x,totalWidth:n(()=>S.value+x.value),rows:n(()=>{const u=e.view.toLowerCase().split(" ");return{top:u[0].split(""),middle:u[1].split(""),bottom:u[2].split("")}}),header:E({size:0,offset:0,space:!1}),right:E({size:300,offset:0,space:!1}),footer:E({size:0,offset:0,space:!1}),left:E({size:300,offset:0,space:!1}),scroll:g,animate(){o!==null?clearTimeout(o):document.body.classList.add("q-body--layout-animate"),o=setTimeout(()=>{o=null,document.body.classList.remove("q-body--layout-animate")},155)},update(u,m,B){z[u][m]=B}};if(me(I,z),ne()>0){let B=function(){u=null,m.classList.remove("hide-scrollbar")},W=function(){if(u===null){if(m.scrollHeight>l.screen.height)return;m.classList.add("hide-scrollbar")}else clearTimeout(u);u=setTimeout(B,300)},_=function(p){u!==null&&p==="remove"&&(clearTimeout(u),B()),window[`${p}EventListener`]("resize",W)},u=null;const m=document.body;v(()=>e.container!==!0?"add":"remove",_),e.container!==!0&&_("add"),Oe(()=>{_("remove")})}return()=>{const u=Ae(w.default,[h(Ke,{onScroll:f}),h(le,{onResize:L})]),m=h("div",{class:a.value,style:M.value,ref:e.container===!0?void 0:i,tabindex:-1},u);return e.container===!0?h("div",{class:"q-layout-container overflow-hidden",ref:i},[h(le,{onResize:b}),h("div",{class:"absolute-full",style:Q.value},[h("div",{class:"scroll",style:y.value},[m])])]):m}}}),lt=D({name:"QToolbar",props:{inset:Boolean},setup(e,{slots:w}){const d=n(()=>"q-toolbar row no-wrap items-center"+(e.inset===!0?" q-toolbar--inset":""));return()=>h("div",{class:d.value,role:"toolbar"},J(w.default))}}),it=D({name:"QHeader",props:{modelValue:{type:Boolean,default:!0},reveal:Boolean,revealOffset:{type:Number,default:250},bordered:Boolean,elevated:Boolean,heightHint:{type:[String,Number],default:50}},emits:["reveal","focusin"],setup(e,{slots:w,emit:d}){const{proxy:{$q:l}}=N(),i=A(I,q);if(i===q)return console.error("QHeader needs to be child of QLayout"),q;const s=C(parseInt(e.heightHint,10)),S=C(!0),g=n(()=>e.reveal===!0||i.view.value.indexOf("H")>-1||l.platform.is.ios&&i.isContainer.value===!0),k=n(()=>{if(e.modelValue!==!0)return 0;if(g.value===!0)return S.value===!0?s.value:0;const o=s.value-i.scroll.value.position;return o>0?o:0}),x=n(()=>e.modelValue!==!0||g.value===!0&&S.value!==!0),a=n(()=>e.modelValue===!0&&x.value===!0&&e.reveal===!0),M=n(()=>"q-header q-layout__section--marginal "+(g.value===!0?"fixed":"absolute")+"-top"+(e.bordered===!0?" q-header--bordered":"")+(x.value===!0?" q-header--hidden":"")+(e.modelValue!==!0?" q-layout--prevent-focus":"")),Q=n(()=>{const o=i.rows.value.top,z={};return o[0]==="l"&&i.left.space===!0&&(z[l.lang.rtl===!0?"right":"left"]=`${i.left.size}px`),o[2]==="r"&&i.right.space===!0&&(z[l.lang.rtl===!0?"left":"right"]=`${i.right.size}px`),z});function y(o,z){i.update("header",o,z)}function f(o,z){o.value!==z&&(o.value=z)}function L({height:o}){f(s,o),y("size",o)}function b(o){a.value===!0&&f(S,!0),d("focusin",o)}v(()=>e.modelValue,o=>{y("space",o),f(S,!0),i.animate()}),v(k,o=>{y("offset",o)}),v(()=>e.reveal,o=>{o===!1&&f(S,e.modelValue)}),v(S,o=>{i.animate(),d("reveal",o)}),v(i.scroll,o=>{e.reveal===!0&&f(S,o.direction==="up"||o.position<=e.revealOffset||o.position-o.inflectionPoint<100)});const c={};return i.instances.header=c,e.modelValue===!0&&y("size",s.value),y("space",e.modelValue),y("offset",k.value),ve(()=>{i.instances.header===c&&(i.instances.header=void 0,y("size",0),y("offset",0),y("space",!1))}),()=>{const o=Ie(w.default,[]);return e.elevated===!0&&o.push(h("div",{class:"q-layout__shadow absolute-full overflow-hidden no-pointer-events"})),o.push(h(le,{debounce:0,onResize:L})),h("header",{class:M.value,style:Q.value,onFocusin:b},o)}}}),rt=D({name:"QAvatar",props:{...Ne,fontSize:String,color:String,textColor:String,icon:String,square:Boolean,rounded:Boolean},setup(e,{slots:w}){const d=je(e),l=n(()=>"q-avatar"+(e.color?` bg-${e.color}`:"")+(e.textColor?` text-${e.textColor} q-chip--colored`:"")+(e.square===!0?" q-avatar--square":e.rounded===!0?" rounded-borders":"")),i=n(()=>e.fontSize?{fontSize:e.fontSize}:null);return()=>{const s=e.icon!==void 0?[h(Ue,{name:e.icon})]:void 0;return h("div",{class:l.value,style:d.value},[h("div",{class:"q-avatar__content row flex-center overflow-hidden",style:i.value},Ee(w.default,s))])}}});export{lt as Q,rt as a,tt as b,it as c,nt as d,at as e,ot as f};
