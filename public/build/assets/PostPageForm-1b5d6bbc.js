import{u as A,a as B,Q}from"./QInput-9d7c8380.js";import{Q as T}from"./QSelect-d6535c55.js";import{B as r,r as p,k as _,I as V,J as R,K as C,z as U,l as q,m as L,u as z,y as t,A as m,E as S}from"./ckeditor-f00ee2ff.js";import{c as N,u as E,a as j,b as K,d as M,Q as O,h as J,e as Y}from"./vm-f3b2e62e.js";import{o as G,u as H}from"./option-sizes-fc4b36e7.js";import{Q as W}from"./QBtn-42158148.js";import{C as X,D as Z,u as $}from"./refList-36d0daf3.js";import{u as ee}from"./postTablePage-a5d16f96.js";import{u as oe}from"./auth-d1ce78ed.js";import"./QChip-97163271.js";import"./position-engine-945fd7aa.js";import"./use-tick-1593138a.js";import"./QMenu-40223fb9.js";import"./QDialog-e13c6d38.js";import"./rtl-36dd996b.js";import"./sweetalert2.all-0da9c671.js";const te=r("svg",{key:"svg",class:"q-radio__bg absolute non-selectable",viewBox:"0 0 24 24"},[r("path",{d:"M12,22a10,10 0 0 1 -10,-10a10,10 0 0 1 10,-10a10,10 0 0 1 10,10a10,10 0 0 1 -10,10m0,-22a12,12 0 0 0 -12,12a12,12 0 0 0 12,12a12,12 0 0 0 12,-12a12,12 0 0 0 -12,-12"}),r("path",{class:"q-radio__check",d:"M12,6a6,6 0 0 0 -6,6a6,6 0 0 0 6,6a6,6 0 0 0 6,-6a6,6 0 0 0 -6,-6"})]),w=N({name:"QRadio",props:{...E,...j,...A,modelValue:{required:!0},val:{required:!0},label:String,leftLabel:Boolean,checkedIcon:String,uncheckedIcon:String,color:String,keepColor:Boolean,dense:Boolean,disable:Boolean,tabindex:[String,Number]},emits:["update:modelValue"],setup(e,{slots:s,emit:f}){const{proxy:o}=R(),g=K(e,o.$q),h=M(e,G),d=p(null),{refocusTargetEl:v,refocusTarget:l}=H(e,d),i=_(()=>V(e.modelValue)===V(e.val)),k=_(()=>"q-radio cursor-pointer no-outline row inline no-wrap items-center"+(e.disable===!0?" disabled":"")+(g.value===!0?" q-radio--dark":"")+(e.dense===!0?" q-radio--dense":"")+(e.leftLabel===!0?" reverse":"")),P=_(()=>{const a=e.color!==void 0&&(e.keepColor===!0||i.value===!0)?` text-${e.color}`:"";return`q-radio__inner relative-position q-radio__inner--${i.value===!0?"truthy":"falsy"}${a}`}),n=_(()=>(i.value===!0?e.checkedIcon:e.uncheckedIcon)||null),c=_(()=>e.disable===!0?-1:e.tabindex||0),y=_(()=>{const a={type:"radio"};return e.name!==void 0&&Object.assign(a,{".checked":i.value===!0,"^checked":i.value===!0?"checked":void 0,name:e.name,value:e.val}),a}),b=B(y);function u(a){a!==void 0&&(C(a),l(a)),e.disable!==!0&&i.value!==!0&&f("update:modelValue",e.val,a)}function I(a){(a.keyCode===13||a.keyCode===32)&&C(a)}function D(a){(a.keyCode===13||a.keyCode===32)&&u(a)}return Object.assign(o,{set:u}),()=>{const a=n.value!==null?[r("div",{key:"icon",class:"q-radio__icon-container absolute-full flex flex-center no-wrap"},[r(O,{class:"q-radio__icon",name:n.value})])]:[te];e.disable!==!0&&b(a,"unshift"," q-radio__native q-ma-none q-pa-none");const F=[r("div",{class:P.value,style:h.value,"aria-hidden":"true"},a)];v.value!==null&&F.push(v.value);const x=e.label!==void 0?J(s.default,[e.label]):Y(s.default);return x!==void 0&&F.push(r("div",{class:"q-radio__label q-anchor--skip"},x)),r("div",{ref:d,class:k.value,tabindex:c.value,role:"radio","aria-label":e.label,"aria-checked":i.value===!0?"true":"false","aria-disabled":e.disable===!0?"true":void 0,onClick:u,onKeydown:I,onKeyup:D},F)}}});const ae={components:{CkeditorPlugin:X,DropFile:Z},setup(){const e=p({title:"",descriptions:"",images:[],status:"1",category_id:{label:"News",value:1}}),s=p(null),f=p([]),o=p({title:null,descriptions:null,images:null,status:null,category_id:null}),g=ee(),d=oe().fetchSessionToken(),v=$(),l=async()=>{const n=await v.fetchCategoryList(d);f.value=n.map(c=>({label:c.name,value:c.id}))},i=n=>{e.value.images=n},k=async()=>{e.value.category_id=e.value.category_id.value;const n=await g.createPost(d,e.value,o);P(n)},P=n=>{var c,y,b;if(n.status===422){const u=n.data.errors;o.value={...o.value,title:((c=u.title)==null?void 0:c[0])??null,descriptions:((y=u.descriptions)==null?void 0:y[0])??null,category_id:((b=u.category_id)==null?void 0:b[0])??null}}};return l(),{postFormPayload:e,updatePostFormData:k,updateParentFiles:i,model:s,options:f,errors:o}}},se={class:"dashboard-container-page m-4 px-4"},le=t("div",{class:"row pb-4"},[t("div",{class:"col text-2xl"},"Post Form")],-1),ne={class:"row bg-white p-5 font-bold gap-y-4"},ie=t("div",{class:"col-12 post-information-title pb-2"}," Post Information ",-1),re={class:"col-12"},de=t("div",{class:"post-information-title"},"Title",-1),ce={class:"col-12"},ue={class:"col-12 text-red-700"},me={class:"col-12"},ve=t("div",{class:"post-information-title"},"Descriptions",-1),_e={class:"col-12"},fe={class:"col-12 text-red-700"},pe={class:"col-12"},ge=t("div",{class:"post-information-title"},"Category",-1),ye={class:"col-12"},be={class:"col-12 text-red-700"},he={class:"col-12"},ke=t("div",{class:"post-information-title"},"Images",-1),Pe={class:"col-12 col-md-6"},Fe=t("div",{class:"post-information-title"},"Status",-1),Se={class:"col-12 text-right"};function xe(e,s,f,o,g,h){const d=q("CkeditorPlugin"),v=q("DropFile");return L(),z("div",se,[le,t("div",ne,[ie,t("div",re,[de,t("div",ce,[m(Q,{outlined:"",dense:"",label:"Title",modelValue:o.postFormPayload.title,"onUpdate:modelValue":s[0]||(s[0]=l=>o.postFormPayload.title=l),ref:"nameRef"},null,8,["modelValue"])]),t("div",ue,S(o.errors.title),1)]),t("div",me,[ve,t("div",_e,[m(d,{modelValue:o.postFormPayload.descriptions,"onUpdate:modelValue":s[1]||(s[1]=l=>o.postFormPayload.descriptions=l)},null,8,["modelValue"])]),t("div",fe,S(o.errors.descriptions),1)]),t("div",pe,[ge,t("div",ye,[m(T,{outlined:"",dense:"",modelValue:o.postFormPayload.category_id,"onUpdate:modelValue":s[2]||(s[2]=l=>o.postFormPayload.category_id=l),options:o.options,label:"Category"},null,8,["modelValue","options"])]),t("div",be,S(o.errors.category_id),1)]),t("div",he,[ke,m(v,{onUpdateFiles:o.updateParentFiles},null,8,["onUpdateFiles"])]),t("div",Pe,[Fe,m(w,{modelValue:o.postFormPayload.status,"onUpdate:modelValue":s[3]||(s[3]=l=>o.postFormPayload.status=l),val:"1",label:"Yes"},null,8,["modelValue"]),m(w,{modelValue:o.postFormPayload.status,"onUpdate:modelValue":s[4]||(s[4]=l=>o.postFormPayload.status=l),val:"0",label:"No"},null,8,["modelValue"])]),t("div",Se,[m(W,{label:"Submit",class:"text-white bg-primary update-form-button",onClick:o.updatePostFormData},null,8,["onClick"])])])])}const je=U(ae,[["render",xe]]);export{je as default};
